# Test info

- Name: Test Case 6: Contact Us Form >> should submit the contact us form and verify success message
- Location: /app/tests/contactUsForm.spec.js:44:5

# Error details

```
Error: browserType.launch: Executable doesn't exist at /home/swebot/.cache/ms-playwright/chromium_headless_shell-1169/chrome-linux/headless_shell
╔═════════════════════════════════════════════════════════════════════════╗
║ Looks like Playwright Test or Playwright was just installed or updated. ║
║ Please run the following command to download new browsers:              ║
║                                                                         ║
║     npx playwright install                                              ║
║                                                                         ║
║ <3 Playwright Team                                                      ║
╚═════════════════════════════════════════════════════════════════════════╝
```

# Test source

```ts
   1 | // tests/contactUsForm.spec.js
   2 | const { test, expect } = require('@playwright/test');
   3 | const fs = require('fs');
   4 | const path = require('path');
   5 | const { HomePage } = require('../pages/HomePage');
   6 | const { ContactUsPage } = require('../pages/ContactUsPage');
   7 | const { Utils } = require('../utils/utils');
   8 |
   9 | // Load test data
  10 | const formDataPath = path.join(__dirname, '..', 'test-data', 'formData.json');
  11 | const formTestData = JSON.parse(fs.readFileSync(formDataPath, 'utf8'));
  12 | const contactUsData = formTestData.contactUs;
  13 |
  14 | // Define file path for upload based on JSON data
  15 | // __dirname is the 'tests' directory. We want the file in the project root for simplicity during tests.
  16 | const testFileName = contactUsData.testFileName;
  17 | const testFilePath = path.join(__dirname, '..', testFileName); // Creates path like project_root/testfile_from_json.txt
  18 |
  19 | test.describe('Test Case 6: Contact Us Form', () => {
  20 |     let homePage;
  21 |     let contactUsPage;
  22 |
  23 |     test.beforeAll(() => {
  24 |         // Create the dummy file for upload using content from JSON
  25 |         if (fs.existsSync(testFilePath)) { // Clean up if exists from a previous failed run
  26 |             fs.unlinkSync(testFilePath);
  27 |         }
  28 |         fs.writeFileSync(testFilePath, contactUsData.testFileContent, 'utf8');
  29 |     });
  30 |
  31 |     test.afterAll(() => {
  32 |         // Clean up the dummy file
  33 |         if (fs.existsSync(testFilePath)) {
  34 |             fs.unlinkSync(testFilePath);
  35 |         }
  36 |     });
  37 |
  38 |     test.beforeEach(async ({ page }) => {
  39 |         homePage = new HomePage(page);
  40 |         contactUsPage = new ContactUsPage(page);
  41 |         await homePage.goto();
  42 |     });
  43 |
> 44 |     test('should submit the contact us form and verify success message', async ({ page }) => {
     |     ^ Error: browserType.launch: Executable doesn't exist at /home/swebot/.cache/ms-playwright/chromium_headless_shell-1169/chrome-linux/headless_shell
  45 |         await expect(page).toHaveURL('https://automationexercise.com/');
  46 |         expect(await homePage.isSliderVisible()).toBe(true);
  47 |
  48 |         await homePage.clickContactUsLink();
  49 |         expect(await contactUsPage.isGetInTouchVisible()).toBe(true);
  50 |
  51 |         // Use data from formData.json
  52 |         // For name and email, we can still make them unique per run if desired, or use static from JSON
  53 |         const name = Utils.generateRandomName(contactUsData.namePrefix);
  54 |         const email = Utils.generateRandomEmail(contactUsData.emailPrefix);
  55 |
  56 |         await contactUsPage.fillContactForm(
  57 |             name, // Or contactUsData.name if static name is preferred
  58 |             email, // Or contactUsData.email if static email is preferred
  59 |             contactUsData.subject,
  60 |             contactUsData.message
  61 |         );
  62 |
  63 |         await contactUsPage.uploadFile(testFilePath); // Use the path defined from JSON data
  64 |
  65 |         await contactUsPage.clickSubmitButton(); // Handles alert
  66 |
  67 |         const successMessage = await contactUsPage.getSuccessMessage();
  68 |         expect(successMessage).toContain('Success! Your details have been submitted successfully.');
  69 |         await expect(page.locator(contactUsPage.successMessage)).toBeVisible();
  70 |
  71 |         await contactUsPage.clickHomeButton();
  72 |         await expect(page).toHaveURL('https://automationexercise.com/');
  73 |         expect(await homePage.isSliderVisible()).toBe(true);
  74 |     });
  75 | });
  76 |
```