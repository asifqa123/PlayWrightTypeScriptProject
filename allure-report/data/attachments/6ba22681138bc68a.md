# Test info

- Name: Test Case 6: Contact Us Form >> should submit the contact us form and verify success message
- Location: /Users/asifuae1983/Desktop/AUTOMATION/PLAYWRIGHT/JulesNewPlayWrightProject/PlayWrightTypeScriptProject/tests/contactUsForm.spec.ts:39:9

# Error details

```
Error: expect(received).resolves.toBe(expected) // Object.is equality

Expected: true
Received: false
    at /Users/asifuae1983/Desktop/AUTOMATION/PLAYWRIGHT/JulesNewPlayWrightProject/PlayWrightTypeScriptProject/tests/contactUsForm.spec.ts:44:68
```

# Page snapshot

```yaml
- banner:
  - link "Website for automation practice":
    - /url: /
    - img "Website for automation practice"
  - list:
    - listitem:
      - link " Home":
        - /url: /
    - listitem:
      - link " Products":
        - /url: /products
    - listitem:
      - link " Cart":
        - /url: /view_cart
    - listitem:
      - link " Signup / Login":
        - /url: /login
    - listitem:
      - link " Test Cases":
        - /url: /test_cases
    - listitem:
      - link " API Testing":
        - /url: /api_list
    - listitem:
      - link " Video Tutorials":
        - /url: https://www.youtube.com/c/AutomationExercise
    - listitem:
      - link " Contact us":
        - /url: /contact_us
- heading "Contact Us" [level=2]:
  - text: Contact
  - strong: Us
- text: "Note: Below contact form is for testing purpose."
- heading "Get In Touch" [level=2]
- textbox "Name"
- textbox "Email"
- textbox "Subject"
- textbox "Your Message Here"
- button "Choose File"
- button "Submit"
- heading "Feedback For Us" [level=2]
- paragraph: We really appreciate your response to our website.
- paragraph:
  - text: Kindly share your feedback with us at
  - link "[email protected]":
    - /url: /cdn-cgi/l/email-protection#c2a4a7a7a6a0a3a1a982a3b7b6adafa3b6abadaca7baa7b0a1abb1a7eca1adaf
  - text: .
- paragraph: If you have any suggestion areas or improvements, do let us know. We will definitely work on it.
- paragraph: Thank you
- contentinfo:
  - heading "Subscription" [level=2]
  - textbox "Your email address"
  - button ""
  - paragraph: Get the most recent updates from our site and be updated your self...
  - paragraph: Copyright © 2021 All rights reserved
```

# Test source

```ts
   1 | import { test, expect, type Page } from '@playwright/test';
   2 | import * as fs from 'fs';
   3 | import * as path from 'path';
   4 | import { HomePage } from '../pages/HomePage';
   5 | import { ContactUsPage } from '../pages/ContactUsPage';
   6 | import { Utils } from '../utils/utils';
   7 | import type { FormDataFile, ContactUsData } from 'types/testData';
   8 |
   9 | // Load test data and cast to defined types
  10 | const formData = Utils.loadTestData('formData.json') as FormDataFile;
  11 | const contactUsData: ContactUsData = formData.contactUs;
  12 |
  13 | const testFileName = contactUsData.testFileName;
  14 | const testFilePath = path.join(__dirname, '..', testFileName);
  15 |
  16 | test.describe('Test Case 6: Contact Us Form', () => {
  17 |     let homePage: HomePage;
  18 |     let contactUsPage: ContactUsPage;
  19 |
  20 |     test.beforeAll(() => {
  21 |         if (fs.existsSync(testFilePath)) {
  22 |             fs.unlinkSync(testFilePath);
  23 |         }
  24 |         fs.writeFileSync(testFilePath, contactUsData.testFileContent || 'Default test content', 'utf8');
  25 |     });
  26 |
  27 |     test.afterAll(() => {
  28 |         if (fs.existsSync(testFilePath)) {
  29 |             fs.unlinkSync(testFilePath);
  30 |         }
  31 |     });
  32 |
  33 |     test.beforeEach(async ({ page }: { page: Page }) => {
  34 |         homePage = new HomePage(page);
  35 |         contactUsPage = new ContactUsPage(page);
  36 |         await homePage.goto();
  37 |     });
  38 |
  39 |     test('should submit the contact us form and verify success message', async ({ page }: { page: Page }) => {
  40 |         await expect(page).toHaveURL('https://automationexercise.com/');
  41 |         await expect(homePage.isSliderVisible()).resolves.toBe(true);
  42 |
  43 |         await homePage.clickContactUsLink();
> 44 |         await expect(contactUsPage.isGetInTouchVisible()).resolves.toBe(true);
     |                                                                    ^ Error: expect(received).resolves.toBe(expected) // Object.is equality
  45 |
  46 |         const name = Utils.generateRandomName(contactUsData.namePrefix);
  47 |         const email = Utils.generateRandomEmail(contactUsData.emailPrefix);
  48 |
  49 |         await contactUsPage.fillContactForm(
  50 |             name,
  51 |             email,
  52 |             contactUsData.subject,
  53 |             contactUsData.message
  54 |         );
  55 |
  56 |         await contactUsPage.uploadFile(testFilePath);
  57 |
  58 |         // clickSubmitButton in ContactUsPage already handles the dialog.
  59 |         await contactUsPage.clickSubmitButton();
  60 |
  61 |         const successMessageText = await contactUsPage.getSuccessMessage();
  62 |         expect(successMessageText).toContain('Success! Your details have been submitted successfully.');
  63 |         await expect(contactUsPage.successMessage).toBeVisible();
  64 |
  65 |         await contactUsPage.clickHomeButton();
  66 |         await expect(page).toHaveURL('https://automationexercise.com/');
  67 |         await expect(homePage.isSliderVisible()).resolves.toBe(true);
  68 |     });
  69 | });
  70 |
```