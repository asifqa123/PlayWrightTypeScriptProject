# Test info

- Name: Test Case 23: Verify Address Details in Checkout Page >> Verify Address Details Match Registration in Checkout
- Location: /Users/asifuae1983/Desktop/AUTOMATION/PLAYWRIGHT/JulesNewPlayWrightProject/PlayWrightTypeScriptProject/tests/verifyAddressDetailsInCheckoutPage.spec.ts:58:9

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: "Jerde - Daugherty"
Received: ""
    at /Users/asifuae1983/Desktop/AUTOMATION/PLAYWRIGHT/JulesNewPlayWrightProject/PlayWrightTypeScriptProject/tests/verifyAddressDetailsInCheckoutPage.spec.ts:99:41
```

# Page snapshot

```yaml
- banner:
  - link "Website for automation practice":
    - /url: /
    - img "Website for automation practice"
  - list:
    - listitem:
      - link " Home":
        - /url: /
    - listitem:
      - link " Products":
        - /url: /products
    - listitem:
      - link " Cart":
        - /url: /view_cart
    - listitem:
      - link " Logout":
        - /url: /logout
    - listitem:
      - link " Delete Account":
        - /url: /delete_account
    - listitem:
      - link " Test Cases":
        - /url: /test_cases
    - listitem:
      - link " API Testing":
        - /url: /api_list
    - listitem:
      - link " Video Tutorials":
        - /url: https://www.youtube.com/c/AutomationExercise
    - listitem:
      - link " Contact us":
        - /url: /contact_us
    - listitem:  Logged in as Alexandra
- list:
  - listitem:
    - link "Home":
      - /url: /
  - listitem: Checkout
- heading "Address Details" [level=2]
- list:
  - listitem:
    - heading "Your delivery address" [level=3]
  - listitem: Mrs. Jacey Schoen
  - listitem: Jerde - Daugherty
  - listitem: 576 Chelsie Meadows
  - listitem: Suite 761
  - listitem: Jalynview South Carolina 18712-1679
  - listitem: United States
  - listitem: (939) 874-4851 x642
- list:
  - listitem:
    - heading "Your billing address" [level=3]
  - listitem: Mrs. Jacey Schoen
  - listitem: Jerde - Daugherty
  - listitem: 576 Chelsie Meadows
  - listitem: Suite 761
  - listitem: Jalynview South Carolina 18712-1679
  - listitem: United States
  - listitem: (939) 874-4851 x642
- heading "Review Your Order" [level=2]
- table:
  - rowgroup:
    - row "Item Description Price Quantity Total":
      - cell "Item"
      - cell "Description"
      - cell "Price"
      - cell "Quantity"
      - cell "Total"
      - cell
  - rowgroup:
    - row "Product Image Blue Top Women > Tops Rs. 500 1 Rs. 500":
      - cell "Product Image":
        - link "Product Image":
          - /url: ""
          - img "Product Image"
      - cell "Blue Top Women > Tops":
        - heading "Blue Top" [level=4]:
          - link "Blue Top":
            - /url: /product_details/1
        - paragraph: Women > Tops
      - cell "Rs. 500":
        - paragraph: Rs. 500
      - cell "1":
        - button "1"
      - cell "Rs. 500":
        - paragraph: Rs. 500
    - row "Total Amount Rs. 500":
      - cell
      - cell
      - cell "Total Amount":
        - heading "Total Amount" [level=4]
      - cell "Rs. 500":
        - paragraph: Rs. 500
- text: If you would like to add a comment about your order, please write it in the field below.
- textbox
- link "Place Order":
  - /url: /payment
- insertion:
  - iframe
- contentinfo:
  - heading "Subscription" [level=2]
  - textbox "Your email address"
  - button ""
  - paragraph: Get the most recent updates from our site and be updated your self...
  - paragraph: Copyright © 2021 All rights reserved
```

# Test source

```ts
   1 | import { test, expect, type Page } from '@playwright/test';
   2 | import { HomePage } from '../pages/HomePage';
   3 | import { SignupPage, type SignupUserDetails } from '../pages/SignupPage';
   4 | import { ProductsPage } from '../pages/ProductsPage';
   5 | import { CartPage } from '../pages/CartPage';
   6 | import { CheckoutPage } from '../pages/CheckoutPage';
   7 | import { LoginPage } from '../pages/LoginPage';
   8 | import { faker } from '@faker-js/faker';
   9 | // No specific test data file needed for this one as all data is generated by faker
   10 |
   11 | interface TestUserData extends SignupUserDetails {
   12 |     signupName: string; // Name used for the initial signup form's "Name" field
   13 | }
   14 |
   15 | test.describe('Test Case 23: Verify Address Details in Checkout Page', () => {
   16 |     let homePage: HomePage;
   17 |     let signupPage: SignupPage;
   18 |     let loginPage: LoginPage;
   19 |     let productsPage: ProductsPage;
   20 |     let cartPage: CartPage;
   21 |     let checkoutPage: CheckoutPage;
   22 |     let userData: TestUserData;
   23 |
   24 |     test.beforeEach(async ({ page }: { page: Page }) => {
   25 |         homePage = new HomePage(page);
   26 |         signupPage = new SignupPage(page);
   27 |         loginPage = new LoginPage(page);
   28 |         productsPage = new ProductsPage(page);
   29 |         cartPage = new CartPage(page);
   30 |         checkoutPage = new CheckoutPage(page);
   31 |
   32 |         const generatedFirstNameForSignup = faker.person.firstName();
   33 |         const generatedFirstNameForAddress = faker.person.firstName(); // Can be same or different
   34 |
   35 |         userData = {
   36 |             title: faker.helpers.arrayElement(['Mr', 'Mrs'] as const),
   37 |             signupName: generatedFirstNameForSignup,
   38 |             email: faker.internet.email(),
   39 |             password: faker.internet.password({ length: 10, prefix: 'Test!' }),
   40 |             dayOfBirth: faker.number.int({ min: 1, max: 28 }).toString(),
   41 |             monthOfBirth: faker.date.month(),
   42 |             yearOfBirth: faker.number.int({ min: 1970, max: 2005 }).toString(),
   43 |             firstName: generatedFirstNameForAddress,
   44 |             lastName: faker.person.lastName(),
   45 |             company: faker.company.name(),
   46 |             address1: faker.location.streetAddress(),
   47 |             address2: faker.location.secondaryAddress(),
   48 |             country: 'United States',
   49 |             state: faker.location.state(),
   50 |             city: faker.location.city(),
   51 |             zipcode: faker.location.zipCode(),
   52 |             mobileNumber: faker.phone.number(),
   53 |             newsletter: true,
   54 |             optin: true
   55 |         };
   56 |     });
   57 |
   58 |     test('Verify Address Details Match Registration in Checkout', async ({ page }: { page: Page }) => {
   59 |         await homePage.goto();
   60 |         await homePage.clickSignupLoginLink();
   61 |
   62 |         const adSelector = '#ad_position_box'; // Define ad selector for reuse
   63 |         const removeAdScript = (sel: string) => document.querySelector(sel)?.remove();
   64 |         if (await page.locator(adSelector).isVisible({ timeout: 3000 })) {
   65 |             await page.evaluate(removeAdScript, adSelector);
   66 |         }
   67 |
   68 |         await loginPage.enterSignupName(userData.signupName);
   69 |         await loginPage.enterSignupEmail(userData.email);
   70 |         await loginPage.clickSignupButton();
   71 |
   72 |         await expect(signupPage.isAccountInfoTextVisible()).resolves.toBeTruthy();
   73 |         await signupPage.fillAccountDetails(userData); // Pass the complete userData object
   74 |         await signupPage.clickCreateAccountButton();
   75 |
   76 |         await expect(signupPage.isAccountCreatedVisible()).resolves.toBeTruthy();
   77 |         await signupPage.clickContinueButton();
   78 |
   79 |         if (await page.locator(adSelector).isVisible({ timeout: 5000 })) {
   80 |             await page.evaluate(removeAdScript, adSelector);
   81 |         }
   82 |
   83 |         await expect(homePage.isLoggedInAsVisible(userData.signupName)).resolves.toBeTruthy();
   84 |
   85 |         await homePage.clickProductsLink();
   86 |         await productsPage.addProductToCartByName('Blue Top');
   87 |         await productsPage.clickContinueShopping();
   88 |
   89 |         await homePage.clickCartLink();
   90 |         await expect(cartPage.isShoppingCartVisible()).resolves.toBeTruthy();
   91 |
   92 |         await cartPage.clickProceedToCheckout();
   93 |         await expect(checkoutPage.isAddressDetailsVisible()).resolves.toBeTruthy();
   94 |
   95 |         const deliveryDetails = await checkoutPage.getDeliveryAddressDetails();
   96 |         expect(deliveryDetails.title).toBe(userData.title + '.'); // Checkout page adds a period
   97 |         expect(deliveryDetails.firstName).toBe(userData.firstName);
   98 |         expect(deliveryDetails.lastName).toBe(userData.lastName);
>  99 |         expect(deliveryDetails.company).toBe(userData.company);
      |                                         ^ Error: expect(received).toBe(expected) // Object.is equality
  100 |         expect(deliveryDetails.address1).toBe(userData.address1);
  101 |         expect(deliveryDetails.address2).toBe(userData.address2 || '');
  102 |         expect(deliveryDetails.city).toBe(userData.city);
  103 |         expect(deliveryDetails.state).toBe(userData.state);
  104 |         expect(deliveryDetails.zipcode).toBe(userData.zipcode);
  105 |         expect(deliveryDetails.country).toBe(userData.country);
  106 |         expect(deliveryDetails.phone).toBe(userData.mobileNumber);
  107 |
  108 |         const billingDetails = await checkoutPage.getBillingAddressDetails();
  109 |         expect(billingDetails.title).toBe(userData.title + '.');
  110 |         expect(billingDetails.firstName).toBe(userData.firstName);
  111 |         expect(billingDetails.lastName).toBe(userData.lastName);
  112 |         expect(billingDetails.company).toBe(userData.company);
  113 |         expect(billingDetails.address1).toBe(userData.address1);
  114 |         expect(billingDetails.address2).toBe(userData.address2 || '');
  115 |         expect(billingDetails.city).toBe(userData.city);
  116 |         expect(billingDetails.state).toBe(userData.state);
  117 |         expect(billingDetails.zipcode).toBe(userData.zipcode);
  118 |         expect(billingDetails.country).toBe(userData.country);
  119 |         expect(billingDetails.phone).toBe(userData.mobileNumber);
  120 |
  121 |         await homePage.clickDeleteAccountLink();
  122 |         await expect(homePage.isAccountDeletedVisible()).resolves.toBeTruthy();
  123 |         await homePage.clickDeleteContinueButton();
  124 |
  125 |         await expect(page).toHaveURL(/.*(login|index|\/)$/);
  126 |         await expect(homePage.isLoggedInAsVisible(userData.signupName)).resolves.toBeFalsy();
  127 |     });
  128 | });
  129 |
```